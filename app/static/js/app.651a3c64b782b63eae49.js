webpackJsonp([1],{"/CLF":function(e,t){},"0nQ+":function(e,t){},"0njP":function(e,t){},"1PcD":function(e,t){},"1wOn":function(e,t){},BZkY:function(e,t){},CCs7:function(e,t){},DFDS:function(e,t){},Gl9R:function(e,t){},"I+cn":function(e,t){},KMPJ:function(e,t){},LEMQ:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("IvJb"),n={name:"app",data:()=>({transition:"slide-left"}),mounted(){},watch:{}},l={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=a("vSla")(n,l,!1,function(e){a("I+cn")},null,null).exports,s=a("aozt"),r=a.n(s),d=a("zO6J"),c={name:"sidebar",data:()=>({userinfo:[],username:"",nav:[{title:"控制台",icon:"ios-speedometer",path:"/"},{title:"代理列表",icon:"ios-analytics-outline",path:"/agent"},{title:"用户列表",icon:"md-people",path:"/member"},{title:"卡密列表",icon:"md-git-branch",path:"/code"},{title:"套餐管理",icon:"md-finger-print",path:"/vip"},{title:"下载列表",icon:"ios-albums",path:"/download"},{title:"资金日志",icon:"logo-twitter",path:"/money"}],navIndex:0}),mounted(){this.setNav(),this.user(),"/dashboard"==this.$route.path?this.navIndex=0:this.setNav()},methods:{user(){let e=JSON.parse(sessionStorage.getItem("userInfo"));this.username=e?e.name:"未知"},setNav(){this.navIndex=this.nav.findIndex(e=>e.path===this.$route.path)},routerLink(e,t){this.navIndex=e,this.$router.push(t)}}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sidebar animated"},[a("ul",[a("li",[a("Avatar",{attrs:{icon:"ios-person",size:"large"}}),e._v(" "),a("p",[e._v("您好!")]),e._v(" "),a("p",[e._v(e._s(e.username))])],1),e._v(" "),e._l(e.nav,function(t,i){return a("li",{key:i,on:{click:function(a){e.routerLink(i,t.path)}}},[a("div",{class:e.navIndex==i?"item-active":e.navIndex==i},[a("i",{class:t.icon}),e._v(" "),a("Icon",{attrs:{type:t.icon}}),e._v(" "),a("p",[e._v(" "+e._s(t.title))])],1)])})],2)])},staticRenderFns:[]};var u={data:()=>({}),components:{sidebar:a("vSla")(c,m,!1,function(e){a("ls4R")},null,null).exports},methods:{}},p={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"wrapper"},[t("sidebar"),this._v(" "),t("div",{staticClass:"content"},[t("router-view")],1)],1)},staticRenderFns:[]};var f=a("vSla")(u,p,!1,function(e){a("/CLF")},null,null).exports,g={name:"App",data:()=>({formCustom:{username:"",pwd:""},ruleCustom:{username:[{validator:(e,t,a)=>{""===t?a(new Error("请输入登录账号")):a()},trigger:"blur"}],pwd:[{validator:(e,t,a)=>{""===t?a(new Error("请输入登录密码")):a()},trigger:"blur"}]}}),mounted(){this.info()},methods:{info(){let e=JSON.parse(localStorage.getItem("login"));e&&(this.formCustom.username=e.mobile,this.formCustom.pwd=e.password)},login(e){let t=this;this.$refs[e].validate(e=>{e?t.axios.post("/login",{email:t.formCustom.username,password:t.formCustom.pwd}).then(function(e){let a=e.data;if(2==!e.token||!e.user){t.$router.push({path:"/"});var i={mobile:t.formCustom.username,password:t.formCustom.pwd};localStorage.setItem("login",JSON.stringify(i)),sessionStorage.setItem("token",JSON.stringify(a.token)),sessionStorage.setItem("userInfo",JSON.stringify(a.user))}}).catch(function(e){console.log(e),t.$Message.error("校验失败，请重新填写!"),sessionStorage.removeItem("userInfo")}):t.$Message.error("校验失败，请重新填写!")})}}},h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sign"},[a("div",{staticClass:"login"},[a("Form",{ref:"formCustom",attrs:{model:e.formCustom,rules:e.ruleCustom}},[a("FormItem",{attrs:{prop:"username"}},[a("Input",{attrs:{type:"text",clearable:"",min:"1",placeholder:"请输入登录账号"},model:{value:e.formCustom.username,callback:function(t){e.$set(e.formCustom,"username",t)},expression:"formCustom.username"}},[a("Icon",{attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1),e._v(" "),a("FormItem",{attrs:{prop:"pwd"}},[a("Input",{attrs:{type:"password",clearable:"",placeholder:"请输入登录密码"},model:{value:e.formCustom.pwd,callback:function(t){e.$set(e.formCustom,"pwd",t)},expression:"formCustom.pwd"}},[a("Icon",{attrs:{slot:"prepend",type:"ios-lock-outline"},slot:"prepend"})],1)],1),e._v(" "),a("FormItem",{staticClass:"submit"},[a("Button",{attrs:{type:"primary",long:""},on:{click:function(t){e.login("formCustom")}}},[e._v("登录系统")])],1)],1)],1)])},staticRenderFns:[]};var v=a("vSla")(g,h,!1,function(e){a("tqI3")},null,null).exports;a("/MtV");a("cfw3"),a("vfE7"),a("qYjU");["","",""].concat(["千图网","摄图网","昵图网","我图网","包图网","90设计","谷歌","必应","其他"]);var b={name:"dashboard",data:()=>({loading:!0,pwdModal:!1,spinShow:!0,users:[{id:"loading",name:"loading",email:"loading",point:"loading",money:"loading",qq:"loading",discount:"loading",website:"loading"}],downdata:[],formCustom:{newPassword:"",originalPassword:""},ruleCustom:{originalPassword:[{validator:(e,t,a)=>{""===t&&a(new Error("请输入您的旧密码")),a()},trigger:"blur"}],newPassword:[{validator:(e,t,a)=>{""===t&&a(new Error("请输入您的新密码")),a()},trigger:"blur"}]},data:[]}),mounted(){this.user(),this.getData()},methods:{handleSubmit(e){let t=this;t.$refs[e].validate(e=>{e?t.axios.post("/admins/chgpwd",{id:t.users.id,oldpwd:t.formCustom.originalPassword,newpwd:t.formCustom.newPassword}).then(function(e){let a=e.data;200==e.status&&0==a.code?(t.$Message.success("操作成功！"),t.codeModal=!1,t.logout()):(a.code=-1)&&t.$Message.error(a.message)}).catch(function(e){t.$Message.error("校验失败，请重新填写!")}):t.$Message.error("Fail!")})},handleReset(e){this.$refs[e].resetFields()},logout(){this.axios.get("/logout",{}).then(function(e){(e.status=200)&&(sessionStorage.removeItem("token"),sessionStorage.removeItem("userInfo"))}).catch(function(e){}),this.$router.push({path:"/login"})},user(){let e=JSON.parse(sessionStorage.getItem("userInfo"));e&&(this.users=e)},getData(){let e=this;e.axios.get("/setting/statistic",{}).then(function(t){let a=t.data;if(200==t.status&&0==a.code){e.spinShow=!1;var i=[],n=a.data;for(let e in n)i.push({day:e,data:n[e]});e.data=i}}).catch(function(e){})}}},_={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard animated"},[a("Card",{staticClass:"info",attrs:{type:"card"}},[a("ul",[a("li",[e._v("用户昵称："+e._s(e.users.name))]),e._v(" "),a("li",[e._v("登录账号："+e._s(e.users.email))]),e._v(" "),a("li",[e._v("账户余额："+e._s(e.users.money))]),e._v(" "),a("li",[e._v("联系QQ："+e._s(e.users.qq))]),e._v(" "),a("li",[e._v("代理折扣："+e._s(e.users.discount)+"%")]),e._v(" "),a("li",[e._v("绑定域名："+e._s(e.users.website))])])]),e._v(" "),a("Card",{staticClass:"info",attrs:{type:"card"}},[a("Row",[a("Col",{attrs:{span:"12"}},[a("Card",{staticClass:"min"},[a("p",{attrs:{slot:"title"},slot:"title"},[e._v("\n                        消费日志\n                    ")]),e._v(" "),a("Button",{attrs:{type:"text",to:"/money"}},[e._v("点击查看")])],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("Card",{staticClass:"min"},[a("p",{attrs:{slot:"title"},slot:"title"},[e._v("\n                        网站管理\n                    ")]),e._v(" "),a("Button",{attrs:{type:"text",to:"/web"}},[e._v("点击查看")])],1)],1)],1)],1),e._v(" "),a("Card",{staticClass:"info",staticStyle:{"min-height":"300px"},attrs:{type:"card"}},[a("table",{staticClass:"table table-bordered"},[a("thead",[a("tr",[a("th",[e._v("下载日期")]),e._v(" "),a("th",{attrs:{colspan:"11"}},[e._v("网站列表")])])]),e._v(" "),e._l(e.data,function(t,i){return a("tr",[a("td",[e._v(" "+e._s(t.day))]),e._v(" "),e._l(t.data,function(t,i){return a("td",[a("Tooltip",{attrs:{content:t.name,placement:"top"}},[e._v("\n                        "+e._s(t.value)+"次\n                    ")])],1)})],2)})],2),e._v(" "),e.spinShow?a("Spin",{attrs:{size:"large",fix:""}}):e._e()],1),e._v(" "),a("Button",{attrs:{type:"primary",long:""},on:{click:function(t){e.logout()}}},[e._v("退出登录")]),e._v(" "),a("Button",{attrs:{type:"dashed",long:""},on:{click:function(t){e.pwdModal=!0}}},[e._v("修改密码")]),e._v(" "),a("Modal",{attrs:{title:"修改密码",loading:e.loading,width:"420","footer-hide":""},model:{value:e.pwdModal,callback:function(t){e.pwdModal=t},expression:"pwdModal"}},[a("Form",{ref:"formCustom",attrs:{model:e.formCustom,rules:e.ruleCustom}},[a("FormItem",{attrs:{prop:"originalPassword"}},[a("Input",{attrs:{type:"password",clearable:""},model:{value:e.formCustom.originalPassword,callback:function(t){e.$set(e.formCustom,"originalPassword",t)},expression:"formCustom.originalPassword"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("旧密码")])])],1),e._v(" "),a("FormItem",{attrs:{prop:"newPassword"}},[a("Input",{attrs:{type:"password",clearable:""},model:{value:e.formCustom.newPassword,callback:function(t){e.$set(e.formCustom,"newPassword",t)},expression:"formCustom.newPassword"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("新密码")])])],1),e._v(" "),a("FormItem",[a("Button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary",long:""},on:{click:function(t){e.handleSubmit("formCustom")}}},[e._v("提交修改")]),e._v(" "),a("Button",{attrs:{long:""},on:{click:function(t){e.handleReset("formCustom")}}},[e._v("重新填写")])],1)],1)],1)],1)},staticRenderFns:[]};var w=a("vSla")(b,_,!1,function(e){a("Gl9R")},null,null).exports,y={name:"dashboard",data(){return{loading:!0,webModal:!1,formValidate:{id:"",name:"",url:"",alias:"",type:"money",isopen:"1"},page:[{pageTotal:0,number:1}],ruleValidate:{alias:[{required:!0,message:"网站别名不能为空！",trigger:"blur"}],name:[{required:!0,message:"网站名称不能为空！",trigger:"blur"}],url:[{required:!0,message:"网站链接不能为空！",trigger:"blur"}]},webdata:[],webcol:[{title:"#",key:"id",width:60,align:"center"},{title:"网站名称",key:"name",align:"center",width:150},{title:"别名",key:"alias",align:"center",width:120},{title:"链接地址",key:"url",align:"center"},{title:"账号总数",key:"isopen",align:"center",width:100},{title:"状态",key:"isopen",align:"center",width:80,render:(e,t)=>e("span",{domProps:{innerHTML:1==t.row.isopen?"正常":'<span style="color:red">关闭</span>'}})},{title:"添加时间",key:"created_at",align:"center"},{title:"操作",key:"action",align:"center",render:(e,t)=>e("span",{style:{cursor:"pointer"},on:{click:()=>{this.webModal=!0,this.edit(t.index)}}},"编辑网站")}]}},mounted(){this.weblist()},methods:{handlePage(e){this.page.pagenumber=e,this.weblist(this.page.pagenumber)},edit(e){let t=this,a=t.webdata[e].isopen;t.formValidate.id=t.webdata[e].id?t.webdata[e].id:"",t.formValidate.name=t.webdata[e].name,t.formValidate.type=t.webdata[e].type,t.formValidate.url=t.webdata[e].url,t.formValidate.alias=t.webdata[e].alias,t.formValidate.isopen=a.toString()},submit(){let e=this;e.axios.post("/setting/website",{id:e.formValidate.id,name:e.formValidate.name,type:e.formValidate.type,url:e.formValidate.url,alias:e.formValidate.alias,isopen:e.formValidate.isopen}).then(function(t){let a=t.data;0==a.code&&(e.webModal=!1,e.$Message.info(a.message),e.weblist())}).catch(function(e){})},weblist(e){let t=this;t.axios.get("/setting/sitepage",{params:{page:e,num:10}}).then(function(e){let a=e.data;0==a.code&&(t.webdata=a.data.data,t.page.pageTotal=a.data.total,t.loading=!1)}).catch(function(e){})},reset(e){void 0!==this.$refs[e]&&this.$refs[e].resetFields()},handleSubmit(e){this.$refs[e].validate(e=>{e&&this.submit()})}}},V={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"web animated"},[a("Row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:16}},[a("Col",{attrs:{span:"24"}},[a("Card",{staticClass:"min",staticStyle:{"margin-bottom":"20px"}},[a("p",{attrs:{slot:"title"},slot:"title"},[e._v("\n                    网站列表\n                ")]),e._v(" "),a("Table",{ref:"selection",attrs:{border:"",columns:e.webcol,data:e.webdata,loading:e.loading,height:"525px"}}),e._v(" "),a("div",{staticClass:"btn-group"},[a("Button",{attrs:{type:"dashed"},on:{click:function(t){e.webModal=!0}}},[e._v("添加下载网站")])],1),e._v(" "),a("Divider"),e._v(" "),a("Page",{staticClass:"page",attrs:{total:e.page.pageTotal,"show-total":"",placement:"top"},on:{"on-change":e.handlePage}})],1)],1)],1),e._v(" "),a("Modal",{attrs:{title:"添加网站",width:"480","footer-hide":""},model:{value:e.webModal,callback:function(t){e.webModal=t},expression:"webModal"}},[a("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":80}},[a("FormItem",{attrs:{label:"网站名称",prop:"name"}},[a("Input",{model:{value:e.formValidate.name,callback:function(t){e.$set(e.formValidate,"name",t)},expression:"formValidate.name"}})],1),e._v(" "),a("FormItem",{attrs:{label:"网站简称",prop:"alias"}},[a("Input",{model:{value:e.formValidate.alias,callback:function(t){e.$set(e.formValidate,"alias",t)},expression:"formValidate.alias"}})],1),e._v(" "),a("FormItem",{attrs:{label:"链接地址",prop:"url"}},[a("Input",{model:{value:e.formValidate.url,callback:function(t){e.$set(e.formValidate,"url",t)},expression:"formValidate.url"}})],1),e._v(" "),a("FormItem",{staticStyle:{"margin-bottom":"0"},attrs:{label:"扣费方式"}},[a("RadioGroup",{model:{value:e.formValidate.type,callback:function(t){e.$set(e.formValidate,"type",t)},expression:"formValidate.type"}},[a("Radio",{attrs:{label:"money"}},[e._v("余额下载")]),e._v(" "),a("Radio",{attrs:{label:"point"}},[e._v("积分下载")])],1)],1),e._v(" "),a("FormItem",{attrs:{label:"网站状态"}},[a("RadioGroup",{model:{value:e.formValidate.isopen,callback:function(t){e.$set(e.formValidate,"isopen",t)},expression:"formValidate.isopen"}},[a("Radio",{attrs:{label:"1"}},[e._v("正常使用")]),e._v(" "),a("Radio",{attrs:{label:"0"}},[e._v("系统维护")])],1)],1),e._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("formValidate")}}},[e._v("确认提交")]),e._v(" "),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){e.reset("formValidate")}}},[e._v("重新填写")])],1)],1)],1)],1)},staticRenderFns:[]};var k=a("vSla")(y,V,!1,function(e){a("LEMQ")},null,null).exports,x={name:"dashboard",data(){return{formCustom:{name:"",ip:"121.11.1.1",enabled:!0},ruleCustom:{ip:[{validator:(e,t,a)=>{/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/.test(t)||a(new Error("IP地址格式不正确！")),a()},trigger:"blur"}],name:[{validator:(e,t,a)=>{""==t&&a(new Error("服务器名称不能为空！")),a()},trigger:"blur"}]},loading:!1,serviceModal:!1,webdata:[],webcol:[{title:"#",key:"id",width:60,align:"center"},{title:"网站名称",key:"name",align:"center",width:150},{title:"IP地址",key:"ip",align:"center"},{title:"添加时间",key:"created_at",align:"center"},{title:"更新时间时间",key:"updated_at",align:"center"},{title:"状态",key:"isopen",align:"center",width:100,render:(e,t)=>e("span",{domProps:{innerHTML:1==t.row.isopen?"正常":'<span style="color:red">关闭</span>'}})},{title:"操作",key:"action",align:"center",render:(e,t)=>e("span",{style:{cursor:"pointer"},on:{click:()=>{this.serviceModal=!0,this.edit(t.index)}}},"编辑信息")}]}},mounted(){this.serverlist()},methods:{edit(e){let t=this,a=1==t.webdata[e].isopen;t.formCustom.id=t.webdata[e].id?t.webdata[e].id:"",t.formCustom.ip=t.webdata[e].ip,t.formCustom.name=t.webdata[e].name,t.formCustom.enabled=a},serverAdd(){let e=this;e.axios.post("/setting/server",{id:e.formCustom.id,name:e.formCustom.name,ip:e.formCustom.ip,isopen:1==e.formCustom.enabled?1:0}).then(function(t){let a=t.data;200==t.status&&0==a.code&&(e.$Message.success("操作成功！"),e.serviceModal=!1,e.serverlist(),e.handleReset(formCustom))}).catch(function(e){})},serverlist(){let e=this;e.axios.get("/setting/serverlist",{params:{page:1,num:10}}).then(function(t){let a=t.data;200==t.status&&0==a.code&&(e.webdata=a.data.data)}).catch(function(e){})},handleSubmit(e){this.$refs[e].validate(e=>{e&&this.serverAdd()})},handleReset(e){this.$refs[e].resetFields()}}},I={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"web animated"},[a("Row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:16}},[a("Col",{attrs:{span:"24"}},[a("Card",{staticClass:"min",staticStyle:{"margin-bottom":"20px"}},[a("p",{attrs:{slot:"title"},slot:"title"},[e._v("\n                    服务器列表\n                ")]),e._v(" "),a("Table",{ref:"selection",attrs:{border:"",columns:e.webcol,data:e.webdata}}),e._v(" "),a("div",{staticClass:"btn-group"},[a("Button",{attrs:{type:"dashed"},on:{click:function(t){e.serviceModal=!0}}},[e._v("添加服务器")])],1),e._v(" "),a("Divider")],1)],1)],1),e._v(" "),a("Modal",{attrs:{title:"添加服务器",loading:e.loading,width:"480","footer-hide":""},model:{value:e.serviceModal,callback:function(t){e.serviceModal=t},expression:"serviceModal"}},[a("Form",{ref:"formCustom",attrs:{model:e.formCustom,rules:e.ruleCustom,"label-width":80}},[a("FormItem",{attrs:{label:"服务器名称",prop:"name"}},[a("Input",{attrs:{type:"text"},model:{value:e.formCustom.name,callback:function(t){e.$set(e.formCustom,"name",t)},expression:"formCustom.name"}})],1),e._v(" "),a("FormItem",{attrs:{label:"服务器地址",prop:"ip"}},[a("Input",{attrs:{type:"text"},model:{value:e.formCustom.ip,callback:function(t){e.$set(e.formCustom,"ip",t)},expression:"formCustom.ip"}})],1),e._v(" "),a("FormItem",{attrs:{label:"是否启用"}},[a("i-switch",{attrs:{size:"large"},model:{value:e.formCustom.enabled,callback:function(t){e.$set(e.formCustom,"enabled",t)},expression:"formCustom.enabled"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v("开启")]),e._v(" "),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("关闭")])])],1),e._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("formCustom")}}},[e._v("确认提交")]),e._v(" "),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){e.handleReset("formCustom")}}},[e._v("重新填写")])],1)],1)],1)],1)},staticRenderFns:[]};var C=a("vSla")(x,I,!1,function(e){a("qUKu")},null,null).exports,M={name:"dashboard",data(){return{loading:!0,accountModal:!1,web:[],service:[],page:[{pageTotal:0,pagenumber:10}],formValidate:{id:"",name:"",password:"",weblist:1,service:1,logintype:"qq",enabled:!0},ruleValidate:{name:[{required:!0,message:"请填写登录账号！",trigger:"blur"}],password:[{required:!0,message:"请填写登录密码！",trigger:"blur"}]},account:[],columns:[{title:"ID",key:"id",width:80,align:"center"},{title:"网站名称",key:"website",width:100,align:"center",render:(e,t)=>e("span",{domProps:{innerHTML:t.row.website.name}})},{title:"账号名称",key:"username",width:250,align:"center"},{title:"登录方式",key:"login_type",width:100,align:"center"},{title:"服务器",key:"server",align:"center",width:120,render:(e,t)=>e("span",{domProps:{innerHTML:t.row.server.name}})},{title:"添加时间",key:"created_at",align:"center",width:150},{title:"账号状态",key:"enabled",width:150,align:"center",render:(e,t)=>e("span",{domProps:{innerHTML:1==t.row.isopen?"正常":'<span style="color:red">停用</span>'}})},{title:"账号状态",key:"action",width:150,align:"center",fixed:"right",render:(e,t)=>e("div",[e("span",{style:{cursor:"pointer",padding:"0 5px"},on:{click:()=>{this.accountModal=!0,this.edit(t.index)}}},"编辑账号")])}]}},mounted(){this.weblist(),this.serverlist(),this.cmdlist()},methods:{edit(e){let t=this;t.formValidate.id=t.account[e].id,t.formValidate.weblist=t.account[e].site_id,t.formValidate.service=t.account[e].server_id,t.formValidate.name=t.account[e].username,t.formValidate.password=t.account[e].password,t.formValidate.logintype=t.account[e].login_type,t.formValidate.enabled=1==t.account[e].isopen},handlePage(e){this.page.pagenumber=e,this.cmdlist(this.page.pagenumber)},weblist(){let e=this;e.axios.get("/setting/sitelist",{}).then(function(t){let a=t.data;0==a.code&&(e.web=a.data,e.codedata=a.data.data,e.loading=!1)}).catch(function(e){})},serverlist(){let e=this;e.axios.get("/setting/serverlist",{params:{page:1,num:10}}).then(function(t){let a=t.data;200==t.status&&0==a.code&&(e.service=a.data.data)}).catch(function(e){})},cmdlist(e){let t=this;t.axios.get("/setting/backendlist",{params:{page:e,num:10}}).then(function(e){let a=e.data;200==e.status&&0==a.code&&(t.account=a.data.data,t.page.pageTotal=a.data.total,t.loading=!1)}).catch(function(e){})},cmd(){let e=this;e.axios.post("/setting/backend",{id:e.formValidate.id,site_id:e.formValidate.weblist,server_id:e.formValidate.service,username:e.formValidate.name,password:e.formValidate.password,login_type:e.formValidate.logintype,isopen:1==e.formValidate.enabled?1:0}).then(function(t){let a=t.data;200==t.status&&0==a.code&&(e.cmdlist(1),e.$Message.success("操作成功！"),e.accountModal=!1,e.handleReset(formValidate))}).catch(function(e){})},handleSubmit(e){this.$refs[e].validate(e=>{e?this.cmd():this.$Message.error("Fail!")})},handleReset(e){this.formValidate.id="",this.$refs[e].resetFields()}}},$={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cmd animated"},[a("Row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:16}},[a("Col",{attrs:{span:"24"}},[a("Card",{staticClass:"min",staticStyle:{"margin-bottom":"20px"}},[a("p",{attrs:{slot:"title"},slot:"title"},[e._v("\n                    下载账号列表\n                ")]),e._v(" "),a("Table",{attrs:{border:"",columns:e.columns,data:e.account,height:"525px",loading:e.loading}}),e._v(" "),a("div",{staticClass:"btn-group"},[a("Button",{attrs:{type:"dashed"},on:{click:function(t){e.accountModal=!0}}},[e._v("添加后台下载账号")])],1),e._v(" "),a("Divider"),e._v(" "),a("Page",{staticClass:"page",attrs:{total:e.page.pageTotal,"show-total":"",placement:"top"},on:{"on-change":e.handlePage}})],1)],1)],1),e._v(" "),a("Modal",{attrs:{title:"添加下载账号",width:"500","footer-hide":""},model:{value:e.accountModal,callback:function(t){e.accountModal=t},expression:"accountModal"}},[a("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":100}},[a("FormItem",{attrs:{label:"选择网站"}},[a("Select",{attrs:{placeholder:"请选择要登录网站"},model:{value:e.formValidate.weblist,callback:function(t){e.$set(e.formValidate,"weblist",t)},expression:"formValidate.weblist"}},e._l(e.web,function(t){return a("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.name))])}))],1),e._v(" "),a("FormItem",{attrs:{label:"登录服务器"}},[a("Select",{attrs:{placeholder:"请选择登录服务器",filterable:""},model:{value:e.formValidate.service,callback:function(t){e.$set(e.formValidate,"service",t)},expression:"formValidate.service"}},e._l(e.service,function(t){return a("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.name))])}))],1),e._v(" "),a("FormItem",{attrs:{label:"登录账号",prop:"name"}},[a("Input",{attrs:{placeholder:"请填写登录账号"},model:{value:e.formValidate.name,callback:function(t){e.$set(e.formValidate,"name",t)},expression:"formValidate.name"}})],1),e._v(" "),a("FormItem",{attrs:{label:"登录密码",prop:"password"}},[a("Input",{attrs:{type:"text",placeholder:"请填写登录密码"},model:{value:e.formValidate.password,callback:function(t){e.$set(e.formValidate,"password",t)},expression:"formValidate.password"}})],1),e._v(" "),a("FormItem",{attrs:{label:"登录方式",prop:"logintype"}},[a("RadioGroup",{model:{value:e.formValidate.logintype,callback:function(t){e.$set(e.formValidate,"logintype",t)},expression:"formValidate.logintype"}},[a("Radio",{attrs:{label:"qq"}},[e._v("qq")]),e._v(" "),a("Radio",{attrs:{label:"sina"}},[e._v("sina")]),e._v(" "),a("Radio",{attrs:{label:"wenku"}},[e._v("wenku")])],1)],1),e._v(" "),a("FormItem",{attrs:{label:"是否启用"}},[a("i-switch",{attrs:{size:"large"},model:{value:e.formValidate.enabled,callback:function(t){e.$set(e.formValidate,"enabled",t)},expression:"formValidate.enabled"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v("开启")]),e._v(" "),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("关闭")])])],1),e._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("formValidate")}}},[e._v("确认提交")]),e._v(" "),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){e.handleReset("formValidate")}}},[e._v("重新填写")])],1)],1)],1)],1)},staticRenderFns:[]};var S=a("vSla")(M,$,!1,function(e){a("kSzA")},null,null).exports,F={data(){return{agentModal:!1,loading:!0,open:[{value:0,label:"关闭账号"},{value:1,label:"启用账号"}],page:[{pageTotal:0,pagenumber:10}],formValidate:{id:"",name:"",email:"",password:"123456",qq:"",website:"",idlist:"",sys:"0",discount:"100",isopen:"1"},ruleCustom:{name:[{required:!0,message:"请填写代理昵称",trigger:"blur"}],email:[{required:!0,message:"请填写登录代理账号",trigger:"blur"}],password:[{required:!0,message:"请填写代理登录密码",trigger:"blur"}],qq:[{required:!0,message:"请填写联系方式",trigger:"blur"}],website:[{required:!0,message:"请填写代理的前端网站",trigger:"blur"}],idlist:[{required:!0,message:"请填写限制套餐的ID",trigger:"blur"}],discount:[{required:!0,message:"请填写代理的折扣率",trigger:"blur",type:"number"}]},data:[],agentId:"",columns:[{title:"UID",key:"id",align:"center",width:70,fixed:"left",align:"center"},{title:"昵称",key:"name",align:"center",width:120,fixed:"left",align:"center"},{title:"登录账号",key:"email",align:"center",width:150},{title:"可用余额",key:"money",fixed:"left",align:"center",width:100},{title:"代理折扣",key:"discount",align:"center",fixed:"left",width:110,render:(e,t)=>e("span",{domProps:{innerHTML:t.row.discount+"%"}})},{title:"QQ",key:"qq",align:"center",width:150},{title:"会员",key:"mem_num",align:"center",fixed:"left",width:100},{title:"绑定网站",key:"website",align:"center",width:200},{title:"添加时间",key:"created_at",align:"center",width:170},{title:"更新时间",key:"updated_at",align:"center",width:170},{title:"状态",key:"isopen",align:"center",width:80,fixed:"right",render:(e,t)=>e("span",{domProps:{innerHTML:1==t.row.isopen?"正常":'<span style="color:red">停用</span>'}})},{title:"操作",key:"action",align:"center",fixed:"right",width:120,render:(e,t)=>e("div",[e("Button",{props:{type:"text",size:"small"},on:{click:()=>{this.agentModal=!0,this.edit(t.index)}}},"编辑信息")])}]}},mounted(){this.agentlist()},methods:{handlePage(e){this.page.pagenumber=e,this.agentlist(this.page.pagenumber)},edit(e){let t=this,a=t.data[e].isopen;t.formValidate.id=t.data[e].id,t.formValidate.name=t.data[e].name,t.formValidate.email=t.data[e].email,t.formValidate.qq=t.data[e].qq,t.formValidate.website=t.data[e].website,t.formValidate.api_address=t.data[e].website,t.formValidate.idlist=t.data[e].combo_list,t.formValidate.discount=t.data[e].discount,t.formValidate.isopen=a.toString()},agentlist(e){let t=this;t.axios.get("/admins",{params:{page:e,num:10}}).then(function(e){if(200==e.status&&0==e.data.code){let a=e.data.data;t.data=e.data.data.data,t.page.pageTotal=a.total,t.loading=!1}}).catch(function(e){})},agent(){let e=this;e.axios.post("/admins/store",{id:e.formValidate.id,name:e.formValidate.name,email:e.formValidate.email,qq:e.formValidate.qq,password:e.formValidate.password,website:e.formValidate.website,api_address:e.formValidate.website,idlist:e.formValidate.idlist,discount:e.formValidate.discount,isopen:e.formValidate.isopen}).then(function(t){200==t.status&&0==t.data.code&&(e.$Message.success("代理操作成功!"),e.agentlist(),e.handleReset("formValidate"),e.agentModal=!1)}).catch(function(e){console.log(e)})},handleSubmit(e){this.$refs[e].validate(e=>{e&&this.agent()})},handleReset(e){this.$refs[e].resetFields()}}},P={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"agent animated"},[a("Row",[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[e._v("\n                代理列表\n            ")]),e._v(" "),a("Table",{ref:"selection",staticStyle:{"margin-top":"16px"},attrs:{border:"",columns:e.columns,data:e.data,loading:e.loading}}),e._v(" "),a("div",{staticClass:"btn-group"},[a("Button",{attrs:{type:"primary",long:""},on:{click:function(t){e.agentModal=!0}}},[e._v("添加代理账户")])],1),e._v(" "),a("Divider"),e._v(" "),a("Page",{staticClass:"page",attrs:{total:e.page.pageTotal,"show-total":"",placement:"top"},on:{"on-change":e.handlePage}})],1),e._v(" "),a("Modal",{attrs:{title:"添加代理",loading:e.loading,width:"450px","footer-hide":"",styles:{top:"20px"}},model:{value:e.agentModal,callback:function(t){e.agentModal=t},expression:"agentModal"}},[a("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleCustom,"label-width":80}},[a("FormItem",{attrs:{label:"用户昵称",prop:"name"}},[a("Input",{model:{value:e.formValidate.name,callback:function(t){e.$set(e.formValidate,"name",t)},expression:"formValidate.name"}})],1),e._v(" "),a("FormItem",{attrs:{label:"登录账号",prop:"email"}},[a("Input",{model:{value:e.formValidate.email,callback:function(t){e.$set(e.formValidate,"email",t)},expression:"formValidate.email"}})],1),e._v(" "),a("FormItem",{attrs:{label:"登录密码",prop:"password"}},[a("Input",{model:{value:e.formValidate.password,callback:function(t){e.$set(e.formValidate,"password",t)},expression:"formValidate.password"}})],1),e._v(" "),a("FormItem",{attrs:{label:"联系QQ",prop:"qq"}},[a("Input",{model:{value:e.formValidate.qq,callback:function(t){e.$set(e.formValidate,"qq",t)},expression:"formValidate.qq"}})],1),e._v(" "),a("FormItem",{attrs:{label:"网站地址",prop:"website"}},[a("Input",{model:{value:e.formValidate.website,callback:function(t){e.$set(e.formValidate,"website",t)},expression:"formValidate.website"}})],1),e._v(" "),a("FormItem",{attrs:{label:"限制套餐"}},[a("Input",{model:{value:e.formValidate.idlist,callback:function(t){e.$set(e.formValidate,"idlist",t)},expression:"formValidate.idlist"}})],1),e._v(" "),a("FormItem",{attrs:{label:"代理折扣",prop:"discount"}},[a("Input",{attrs:{number:""},model:{value:e.formValidate.discount,callback:function(t){e.$set(e.formValidate,"discount",t)},expression:"formValidate.discount"}})],1),e._v(" "),a("FormItem",{attrs:{label:"是否启用"}},[a("RadioGroup",{model:{value:e.formValidate.isopen,callback:function(t){e.$set(e.formValidate,"isopen",t)},expression:"formValidate.isopen"}},[a("Radio",{attrs:{label:"1"}},[e._v("开通")]),e._v(" "),a("Radio",{attrs:{label:"0"}},[e._v("关闭")])],1)],1),e._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("formValidate")}}},[e._v("确认提交")]),e._v(" "),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){e.handleReset("formValidate")}}},[e._v("重新填写")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var T=a("vSla")(F,P,!1,function(e){a("1PcD")},null,null).exports,q={data(){return{data:[],loading:!0,vipModal:!1,indeterminate:!0,checkAll:!1,show:!0,webList:[{id:"",name:""}],page:[{pageTotal:0,pagenumber:10}],formValidate:{id:"",name:"",price:"",type:"day",point:0,availableTimes:"",packageDurationType:"NONE",enabled:!0},checkAllGroup:[],websiteIds:[],ruleValidate:{name:[{required:!0,message:"套餐名称不能为空",trigger:"blur"}]},columns:[{title:"#",key:"id",width:70,align:"center"},{title:"套餐名称",key:"name",align:"center",width:230},{title:"使用类型",key:"type",align:"center",render:(e,t)=>e("span",{domProps:{innerHTML:"day"==t.row.type?"按天扣点":"按次扣点"},class:{"btn-group":!0}})},{title:"可用网站",key:"id",align:"center",render:(e,t)=>e("Poptip",{props:{trigger:"hover",title:"套餐共"+t.row.websites.length+"个网站",placement:"right"},style:{fontSize:"12px",cursor:"pointer"}},[e("span","共"+t.row.websites.length+"个网站"),e("div",{slot:"content"},[e("ul",this.data[t.index].websites.map(t=>e("li",{style:{textAlign:"center",padding:"4px",fontSize:"12px"}},t.name+t.pivot.count+"次每天")))])])},{title:"使用时长",key:"timelong",align:"center",render:(e,t)=>e("span",{domProps:{innerHTML:this.days(t.row.timelong)},class:{"btn-group":!0}})},{title:"价格",align:"center",key:"price"},{title:"状态",align:"center",key:"isopen",render:(e,t)=>e("span",{domProps:{innerHTML:1==t.row.isopen?"正常":'<span style="color:red">禁用</span>'},class:{"btn-group":!0}})},{title:"操作",key:"action",align:"center",render:(e,t)=>e("div",[e("Button",{props:{type:"text",size:"small"},on:{click:()=>{this.vipModal=!0,this.edit(t.index)}}},"编辑套餐")])}]}},mounted(){this.weblist(),this.combolist()},methods:{clear(){let e=this;e.formValidate.id="",e.formValidate.name="",e.formValidate.price="",e.formValidate.type="day",e.formValidate.timelong="",e.formValidate.enabled=!0,e.formValidate.availableTimes="",e.websiteIds="",e.weblist=""},edit(e){let t=this;t.formValidate.id=t.data[e].id,t.formValidate.name=t.data[e].name,t.formValidate.price=t.data[e].price,t.formValidate.type=t.data[e].type,t.formValidate.timelong=t.data[e].timelong,t.formValidate.enabled=1==t.data[e].isopen,t.formValidate.availableTimes="day"==t.data[e].type?"":t.data[e].count,t.websiteIds=t.data[e].websites,t.weblist=t.data[e].websites},handlePage(e){this.page.pagenumber=e,this.combolist(this.page.pagenumber)},days:e=>0==e?"终身卡":1==e?"体验卡":30==e?"月卡":365==e?"年卡":"天卡",selectType(){"day"==this.formValidate.type?this.show=!0:this.show=!1},weblist(){let e=this;e.axios.get("/setting/sitelist",{}).then(function(t){let a=t.data;0==a.code&&(e.webList=a.data)}).catch(function(e){})},combolist(e){let t=this;t.axios.get("/setting/combopage",{params:{page:e,num:10}}).then(function(e){let a=e.data;0==a.code&&(t.data=a.data.data,t.page.pageTotal=a.data.total,t.loading=!1)}).catch(function(e){})},check(){let e=[];for(let t=0;t<this.checkAllGroup.length;t++)for(let a=0;a<this.webList.length;a++)this.checkAllGroup[t]==this.webList[a].id&&e.push({id:this.checkAllGroup[t],name:this.webList[a].name,value:""});this.websiteIds=e},combo(){let e=this;e.axios.post("/setting/combo",{id:e.formValidate.id,name:e.formValidate.name,price:e.formValidate.price,type:e.formValidate.type,timelong:e.formValidate.timelong,isopen:e.formValidate.enabled,point:e.formValidate.point,count:"day"==e.formValidate.type?0:e.formValidate.availableTimes,sites:e.websiteIds}).then(function(t){t.data;e.combolist(),e.vipModal=!1,e.$Message.success("套餐添加成功!")}).catch(function(e){})}}},R={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vip animated"},[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[e._v("\n            套餐管理\n        ")]),e._v(" "),a("Table",{ref:"selection",attrs:{border:"",columns:e.columns,data:e.data,height:"525",loading:e.loading}}),e._v(" "),a("div",{staticClass:"btn-group"},[a("Button",{attrs:{type:"primary",long:""},on:{click:function(t){e.vipModal=!0}}},[e._v("添加下载套餐")])],1),e._v(" "),a("Divider"),e._v(" "),a("Page",{staticClass:"page",attrs:{total:e.page.pageTotal,"show-total":"",placement:"top"},on:{"on-change":e.handlePage}})],1),e._v(" "),a("Modal",{attrs:{title:"添加套餐",width:"750px","footer-hide":"",styles:{top:"20px"}},model:{value:e.vipModal,callback:function(t){e.vipModal=t},expression:"vipModal"}},[a("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":80,span:14}},[a("FormItem",{attrs:{label:"套餐名称"}},[a("Input",{attrs:{placeholder:"请输入一个套餐名称"},model:{value:e.formValidate.name,callback:function(t){e.$set(e.formValidate,"name",t)},expression:"formValidate.name"}})],1),e._v(" "),a("FormItem",{attrs:{label:"套餐价格"}},[a("Input",{attrs:{placeholder:"请输入套餐的销售价格"},model:{value:e.formValidate.price,callback:function(t){e.$set(e.formValidate,"price",t)},expression:"formValidate.price"}})],1),e._v(" "),a("FormItem",{attrs:{label:"充值卡类型"}},[a("RadioGroup",{on:{"on-change":e.selectType},model:{value:e.formValidate.type,callback:function(t){e.$set(e.formValidate,"type",t)},expression:"formValidate.type"}},[a("Radio",{attrs:{label:"day"}},[a("span",[e._v("按天计算")])]),e._v(" "),a("Radio",{attrs:{label:"count"}},[a("span",[e._v("按次计算")])])],1)],1),e._v(" "),a("FormItem",{attrs:{label:"使用时长"}},[a("Select",{attrs:{placeholder:"请选择套餐使用时间"},model:{value:e.formValidate.timelong,callback:function(t){e.$set(e.formValidate,"timelong",t)},expression:"formValidate.timelong"}},[a("Option",{attrs:{value:"0"}},[e._v("不限制")]),e._v(" "),a("Option",{attrs:{value:"1"}},[e._v("一天")]),e._v(" "),a("Option",{attrs:{value:"7"}},[e._v("一周")]),e._v(" "),a("Option",{attrs:{value:"30"}},[e._v("一月")]),e._v(" "),a("Option",{attrs:{value:"365"}},[e._v("一年")])],1)],1),e._v(" "),a("FormItem",{attrs:{label:"选择网站"}},[a("CheckboxGroup",{on:{"on-change":e.check},model:{value:e.checkAllGroup,callback:function(t){e.checkAllGroup=t},expression:"checkAllGroup"}},e._l(e.webList,function(t){return a("Checkbox",{key:t.id,attrs:{label:t.id}},[e._v(e._s(t.name))])}))],1),e._v(" "),a("div",{staticClass:"ivu-form-item ivu-form-item-webgroup",class:e.show&&0!=e.websiteIds.length?"":"hide"},[a("label",{staticClass:"ivu-form-item-label",staticStyle:{width:"80px"}},[e._v("网站列表")]),e._v(" "),a("div",{staticClass:"ivu-form-item-content weblist",staticStyle:{"margin-left":"80px"}},e._l(e.websiteIds,function(t,i){return a("Input",{key:i,model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v(e._s(t.name))])])}))]),e._v(" "),a("FormItem",{class:1==e.show?"hide":"",attrs:{label:"上限次数"}},[a("Input",{attrs:{placeholder:"请输入套餐的最高上限下载次数"},model:{value:e.formValidate.availableTimes,callback:function(t){e.$set(e.formValidate,"availableTimes",t)},expression:"formValidate.availableTimes"}})],1),e._v(" "),a("FormItem",{attrs:{label:"套餐积分"}},[a("Input",{attrs:{placeholder:"请输入套餐的积分总数"},model:{value:e.formValidate.point,callback:function(t){e.$set(e.formValidate,"point",t)},expression:"formValidate.point"}})],1),e._v(" "),a("FormItem",{attrs:{label:"是否启用"}},[a("i-switch",{attrs:{size:"large"},model:{value:e.formValidate.enabled,callback:function(t){e.$set(e.formValidate,"enabled",t)},expression:"formValidate.enabled"}},[a("span",{attrs:{slot:"1"},slot:"1"},[e._v("开启")]),e._v(" "),a("span",{attrs:{slot:"0"},slot:"0"},[e._v("关闭")])])],1),e._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary",long:""},on:{click:e.combo}},[e._v("提交套餐")]),e._v(" "),a("Button",{staticStyle:{"margin-top":"8px"},attrs:{long:""},on:{click:e.clear}},[e._v("重新填写")])],1)],1)],1)],1)},staticRenderFns:[]};var B=a("vSla")(q,R,!1,function(e){a("CCs7")},null,null).exports,L={mounted(){this.downlist(1)},methods:{handleSubmit(e){this.$refs[e].validate(e=>{e?this.$Message.success("Success!"):this.$Message.error("Fail!")})},code(e){switch(e){case e="wait":return'<span style="color:#ff9900;">等待中</span>';case e="doing":return'<span style="color:#ff9900">上报中</span>';case e="done":return"已缓存";case e="failed":return'<span style="color:red;">已失败</span>'}},webname(e){switch(e){case e="58pic":return"千图网";case e="16pic":return"六图网";case e="daimg":return"大图网";case e="ibaotu":return"包图网";case e="699pic":return"摄图网";case e="nipic":return"昵图网";case e="588ku":return"千库网";case e="90sheji":return"90设计";case e="ooopic":return"我图网";case e="88tph":return"图品汇";case e="888ppt":return"办图网";case e="51yuansu":return"觅元素";case e="tukuppt":return"熊猫办公";default:return"未知网站"}},handlePage(e){this.page.pagenumber=e,this.downlist(this.page.pagenumber)},downlist(e){let t=this,a=JSON.parse(sessionStorage.getItem("token"));a&&(t.token=a.token),t.axios.get("/setting/downlist",{params:{page:e,num:10,token:t.token}}).then(function(e){let a=e.data;200==e.status&&0==a.code&&(t.data=a.data.data,t.page.pageTotal=a.data.total,t.loading=!1)}).catch(function(e){})},handleSelectAll(e){this.$refs.selection.selectAll(e)}},data(){return{loading:!1,token:"",value2:["2016-01-01","2016-02-15"],page:[{pageTotal:0,pagenumber:10}],formInline:{url:"",web:"",weblist:[{value:"58pic",label:"千图网"},{value:"nipic",label:"昵图网"}]},ruleInline:{url:[{required:!0,message:"请输入您要搜索的素材链接",trigger:"blur"}]},data:[],columns:[{type:"selection",width:55,align:"center",fixed:"left"},{title:"#",key:"id",width:80,align:"center",fixed:"left"},{title:"素材网站",key:"site",width:100,align:"center",fixed:"left",render:(e,t)=>e("span",{domProps:{innerHTML:this.webname(t.row.site)}})},{title:"素材标题",key:"title",width:280,align:"center",render:(e,t)=>e("span",{domProps:{innerHTML:t.row.title?'<a href="'+t.row.source+'" target="_blank" rel="noreferrer" style="text-align:left;display:block;overflow: hidden;text-overflow:ellipsis;white-space: nowrap;">'+t.row.title+"</a>":"获取失败"}})},{title:"下载账号",key:"fail_reason",width:250,align:"center",render:(e,t)=>e("span",{domProps:{innerHTML:t.row.account}})},{title:"下载状态",key:"fail_reason",width:120,align:"center",render:(e,t)=>e("span",{domProps:{innerHTML:t.row.fail_reason?'<span style="color:#ed4014">'+t.row.fail_reason+"</span>":"-"}})},{title:"错误信息",key:"error_info",width:300,align:"center",render:(e,t)=>e("span",{domProps:{innerHTML:t.row.error_info?'<span style="color:#ed4014">'+t.row.error_info+"</span>":"-"}})},{title:"上报时间",key:"created_at",width:170,align:"center"},{title:"实际完成",key:"updated_at",width:170,align:"center"},{title:"上报状态",key:"status",width:120,align:"center",fixed:"right",render:(e,t)=>e("span",{domProps:{innerHTML:this.code(t.row.status)}})}]}}},A={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"download animated"},[a("Row",[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[e._v("\n                素材列表\n            ")]),e._v(" "),a("Table",{ref:"selection",attrs:{border:"",columns:e.columns,data:e.data,height:"525px",loading:e.loading}}),e._v(" "),a("Page",{staticClass:"page",attrs:{total:e.page.pageTotal,"show-total":"",placement:"top"},on:{"on-change":e.handlePage}})],1)],1)],1)},staticRenderFns:[]};var H=a("vSla")(L,A,!1,function(e){a("KMPJ")},null,null).exports,O={mounted(){this.members(1)},methods:{handleSelectAll(e){this.$refs.selection.selectAll(e)},handlePage(e){this.page.pagenumber=e,this.members(this.page.pagenumber)},search(){this.members(1)},stop(e){let t="";for(var a=0;a<e.length;a++)t=t?t+","+e[a].id:e[a].id;this.memberdata=t},batchfreeze(){let e=this;""!==this.memberdata?e.axios.post("member/batchfreeze",{idstring:e.memberdata}).then(function(t){let a=t.data;"200"==t.status&&"0"==a.code&&(e.$Message.success("批量冻结账号成功!"),e.members(1))}).catch(function(e){}):e.$Message.error("请先选择勾选要冻结的会员再提交!")},batchopen(){let e=this;""!==this.memberdata?e.axios.post("member/batchopen",{idstring:e.memberdata}).then(function(t){let a=t.data;"200"==t.status&&"0"==a.code&&(e.$Message.success("批量启用账号成功!"),e.members(1))}).catch(function(e){}):e.$Message.error("请先选择勾选要启用的会员再提交!")},repwd(e){let t=this;t.axios.post("member/resetpwd",{idstring:e}).then(function(e){let a=e.data;"200"==e.status&&"0"==a.code&&(t.$Message.success("重置密码成功!"),t.members(1))}).catch(function(e){})},memberinfo(e){this.info=e,this.memberModal=!0},members(e,t){let a=this;a.axios.get("/member/lists",{params:{uid:a.formInline.uid,search:a.formInline.name,page:e,num:10}}).then(function(e){let t=e.data;200==e.status&&0==t.code&&(a.page.pageTotal=t.data.total,a.data=t.data.data,a.loading=!1)}).catch(function(e){a.$Message.error("校验失败，请重新填写!")})}},data(){return{loading:!0,memberdata:"",memberModal:!1,info:[],time:[{begin:"-",end:"-"}],formInline:{name:"",uid:""},ruleInline:{name:[{required:!0,message:"用户名不能为空",trigger:"blur"}]},combo:[],data:[],page:[{pageTotal:0,pageNum:1,pageSize:10,agentId:""}],columns:[{type:"selection",width:55,align:"center",fixed:"left"},{title:"会员",key:"mobile",width:120,fixed:"left",align:"center"},{title:"代理",key:"uid",width:70,fixed:"left",align:"center"},{title:"注册时间",key:"created_at",align:"center"},{title:"最后登录",key:"last_login_time",align:"center",render:(e,t)=>e("span",{domProps:{innerHTML:null!==t.row.last_login_time?t.row.last_login_time:"-"},class:{"btn-group":!0}})},{title:"状态",key:"isopen",width:80,align:"center",fixed:"right",render:(e,t)=>e("span",{domProps:{innerHTML:0==t.row.isopen?'<span style="color:red">已冻结</span>':"使用中"},class:{"btn-group":!0}})},{title:"操作",key:"action",align:"center",width:180,fixed:"right",render:(e,t)=>e("div",[e("Button",{props:{type:"text",size:"small"},on:{click:()=>{this.repwd(t.row.id)}}},"重置密码"),e("Button",{props:{type:"text",size:"small"},on:{click:()=>{this.time.begin=t.row.begin,this.time.end=t.row.end,this.memberinfo(t.row.combo)}}},"会员详情")])}]}}},E={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"member animated"},[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[e._v("\n            我的会员\n        ")]),e._v(" "),a("Form",{ref:"formInline",staticStyle:{"margin-top":"20px"},attrs:{model:e.formInline,rules:e.ruleInline,inline:""}},[a("FormItem",{staticStyle:{width:"200px"},attrs:{prop:"name"}},[a("Input",{attrs:{type:"text",placeholder:"请输入会员账号",clearable:""},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name",t)},expression:"formInline.name"}})],1),e._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("搜索用户")])],1)],1),e._v(" "),a("Table",{ref:"selection",attrs:{border:"",columns:e.columns,data:e.data,height:"520px",loading:e.loading,"highlight-row":""},on:{"on-selection-change":e.stop}}),e._v(" "),a("div",{staticClass:"btn-group"},[a("Button",{attrs:{type:"dashed"},on:{click:function(t){e.handleSelectAll(!0)}}},[e._v("选取所有")]),e._v(" "),a("Button",{attrs:{type:"dashed"},on:{click:e.batchfreeze}},[e._v("批量冻结")]),e._v(" "),a("Button",{attrs:{type:"dashed"},on:{click:e.batchopen}},[e._v("批量启用")])],1),e._v(" "),a("Divider"),e._v(" "),a("Page",{staticClass:"page",attrs:{total:e.page.pageTotal,"show-total":"",placement:"top"},on:{"on-change":e.handlePage}})],1),e._v(" "),a("Modal",{attrs:{title:"会员套餐详情",loading:e.loading,"footer-hide":"",width:"380px"},model:{value:e.memberModal,callback:function(t){e.memberModal=t},expression:"memberModal"}},[a("ul",{staticClass:"userinfo"},[a("li",[e._v("会员套餐："+e._s(e.info.name))]),e._v(" "),a("li",[e._v("扣费方式："+e._s("count"==e.info.type?"按次扣点":"按天扣点"))]),e._v(" "),a("li",[e._v("激活时间："+e._s(e.time.begin))]),e._v(" "),a("li",[e._v("到期时间："+e._s(e.time.end))])])])],1)},staticRenderFns:[]};var z=a("vSla")(O,E,!1,function(e){a("DFDS")},null,null).exports,G=a("/dSo"),D=a.n(G);new D.a(".copy");var N={mounted(){this.combo(),this.getcode(1)},methods:{combo(){let e=this;e.axios.get("/setting/combolist",{}).then(function(t){let a=t.data;"200"==t.status&&"0"==a.code&&(e.combolist=a.data,console.log(a))}).catch(function(t){e.$Message.error("校验失败，请重新填写!"),sessionStorage.removeItem("userInfo")})},copy(e){let t=this,a=e,i=new D.a(".copy",{text:function(){return a}});i.on("success",e=>{t.$Notice.success({title:"充值卡:"+a.substring(18)+"...复制成功！"}),i.destroy()}),i.on("error",e=>{t.$Notice.success({title:"该浏览器不支持自动复制"}),i.destroy()})},setcode(){let e=this;e.axios.post("/setting/generatepwd",{num:e.formValidate.number,combo_id:e.formValidate.comboId}).then(function(t){let a=t.data;200==t.status&&0==a.code?(e.$Message.success("操作成功！"),e.codeModal=!1,e.getcode(1)):e.$Message.error(t.data.message)}).catch(function(e){sessionStorage.removeItem("userInfo")})},getcode(e){let t=this;t.axios.get("/setting/pwdlist",{params:{page:e,num:10}}).then(function(e){let a=e.data;200==e.status&&0==a.code&&(t.page.pageTotal=a.data.total,t.codedata=a.data.data,t.loading=!1)}).catch(function(e){t.$Message.error("校验失败，请重新填写!"),sessionStorage.removeItem("userInfo")})},handleSelectAll(e){this.$refs.selection.selectAll(e)},handlePage(e){this.page.pagenumber=e,this.getcode(this.page.pagenumber)},handleSubmit(e){this.$refs[e].validate(e=>{e&&(this.setcode(),this.handleReset("formValidate"))})},handleReset(e){this.$refs[e].resetFields()},long(e){switch(parseInt(e)){case 0:return"终身";case 1:return"天卡";case 7:return"周卡";case 30:return"月卡";case 365:return"年卡";default:return e+"天"}}},data(){return{dates:"",combo_id:"",loading:!0,codeModal:!1,combolist:[{id:"",name:""}],formValidate:{comboId:"2",number:"",price:"10",sum:"100.00"},ruleValidate:{number:[{required:!0,message:"请填写要生成的充值卡数量！",trigger:"blur"}]},codes:20,loading:!0,codedata:[],page:[{pageTotal:0,pagenumber:1,pagesize:10,agentId:""}],columns:[{type:"selection",width:70,align:"center",fixed:"left"},{title:"时长",key:"type",width:70,align:"center",fixed:"left",render:(e,t)=>e("span",{domProps:{innerHTML:this.long(t.row.combo.timelong)}})},{title:"用户名",key:"agentname",width:120,fixed:"left",align:"center"},{title:"充值卡号",key:"password",width:280,fixed:"left",align:"center"},{title:"绑定账号",key:"member_id",width:150,align:"center",render:(e,t)=>e("span",{domProps:{innerHTML:0==t.row.member_id?"-":t.row.member_id}})},{title:"生成时间",key:"created_at",width:150,align:"center"},{title:"使用时间",key:"deleted_at",width:150,align:"center",render:(e,t)=>e("span",{domProps:{innerHTML:t.row.deleted_at==t.row.deleted_at?"-":t.row.deleted_at}})},{title:"状态",key:"status",width:80,align:"center",fixed:"right",render:(e,t)=>e("span",{domProps:{innerHTML:0==t.row.status?"未使用":"已使用"}})},{title:"操作",key:"code",align:"center",width:100,fixed:"right",render:(e,t)=>e("div",[e("Button",{props:{type:"text",size:"small"},class:"copy",on:{click:()=>{this.copy(t.row.password)}}},"复制卡密")])}]}}},Q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"code animated"},[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[e._v("\n            充值卡列表\n        ")]),e._v(" "),a("Table",{ref:"selection",attrs:{border:"",columns:e.columns,data:e.codedata,height:"525",loading:e.loading}}),e._v(" "),a("div",{staticClass:"btn-group"},[a("Button",{attrs:{type:"dashed"},on:{click:function(t){e.handleSelectAll(!0)}}},[e._v("选取所有")]),e._v(" "),a("Button",{attrs:{type:"dashed"}},[e._v("批量导出")]),e._v(" "),a("Button",{attrs:{type:"dashed"}},[e._v("批量冻结")]),e._v(" "),a("Button",{attrs:{type:"primary",to:"/diy"}},[e._v("添加自定义套餐")])],1),e._v(" "),a("Divider"),e._v(" "),a("Page",{staticClass:"page",attrs:{total:e.page.pageTotal,"show-total":"",placement:"top"},on:{"on-change":e.handlePage}})],1),e._v(" "),a("Modal",{attrs:{title:"生成卡密",loading:e.loading,width:"480","footer-hide":""},model:{value:e.codeModal,callback:function(t){e.codeModal=t},expression:"codeModal"}},[a("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":80}},[a("FormItem",{attrs:{label:"选择套餐"}},[a("Select",{attrs:{filterable:""},model:{value:e.formValidate.comboId,callback:function(t){e.$set(e.formValidate,"comboId",t)},expression:"formValidate.comboId"}},e._l(e.combolist,function(t){return 1==t.isopen?a("Option",{key:t.id,ref:"price",refInFor:!0,attrs:{value:t.id}},[e._v(e._s(t.name)+" (零售价:"+e._s(t.price)+"元)")]):e._e()}))],1),e._v(" "),a("FormItem",{attrs:{label:"生成数量",prop:"number"}},[a("Input",{attrs:{placeholder:"请输入您要生成的充值卡数量"},model:{value:e.formValidate.number,callback:function(t){e.$set(e.formValidate,"number",t)},expression:"formValidate.number"}})],1),e._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("formValidate")}}},[e._v("确认生成")]),e._v(" "),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){e.handleReset("formValidate")}}},[e._v("重新填写")])],1)],1)],1)],1)},staticRenderFns:[]};var J=a("vSla")(N,Q,!1,function(e){a("Q2Yl")},null,null).exports,j={data:()=>({list:[],formValidate:{name:"",number:""},ruleValidate:{number:[{required:!0,message:"请输入您要生成的充值卡数量",trigger:"blur"}]}}),mounted(){this.get()},methods:{get(){let e=this;e.axios.get("/admin/memberPackage/validList",{}).then(function(t){e.list=t.data.data}).catch(function(e){})},handleSubmit(e){let t=this;t.$refs[e].validate(e=>{e?t.axios.post("/admin/rechargeCard/create",{memberPackageId:t.formValidate.name,quantity:t.formValidate.number}).then(function(e){console.log(e.data),2008==e.data.code&&t.$Message.error("账号余额不足，请联系管理充值!")}).catch(function(e){}):this.$Message.error("Fail!")})},handleReset(e){this.$refs[e].resetFields()}}},K={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"setcode"},[a("Card",{attrs:{type:"card"}},[a("p",{attrs:{slot:"title"},slot:"title"},[e._v("\n            生成充值卡\n        ")]),e._v(" "),a("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":80}},[a("FormItem",{attrs:{label:"选择套餐"}},[a("Select",{attrs:{filterable:"",multiple:""},model:{value:e.formValidate.name,callback:function(t){e.$set(e.formValidate,"name",t)},expression:"formValidate.name"}},e._l(e.list,function(t){return a("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.id)+" "+e._s(t.name))])}))],1),e._v(" "),a("FormItem",{attrs:{label:"生成数量",prop:"number"}},[a("Input",{attrs:{placeholder:"请输入您要生成的充值卡数量"},model:{value:e.formValidate.number,callback:function(t){e.$set(e.formValidate,"number",t)},expression:"formValidate.number"}})],1),e._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("formValidate")}}},[e._v("确认生成")]),e._v(" "),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){e.handleReset("formValidate")}}},[e._v("重新填写")])],1)],1)],1)],1)},staticRenderFns:[]};var U=a("vSla")(j,K,!1,function(e){a("1wOn")},null,null).exports,Y={mounted(){this.log(1),this.agentlist()},methods:{agentlist(){let e=this;e.axios.get("/admins/agents",{params:{page:1,num:10}}).then(function(t){200==t.status&&0==t.data.code&&(e.agents=t.data.data)}).catch(function(e){})},handlePage(e){this.page.pageNum=e,this.log(this.page.pageNum)},handleReset(e){this.$refs[e].resetFields()},handleSubmit(e){this.$refs[e].validate(e=>{e&&this.pay()})},pay(){let e=this;e.axios.post("/admins/charge",{uid:e.formValidate.agent,type:"money",value:e.formValidate.money}).then(function(t){200==t.status&&0==t.data.code&&(e.moneyModal=!1,e.$Message.success(t.data.message))}).catch(function(e){})},log(e){let t=this;t.axios.get("/admins/cashlist",{params:{page:e,num:10}}).then(function(e){200==e.status&&0==e.data.code&&(t.data=e.data.data.data,t.page.pageTotal=e.data.data.total,t.loading=!1)}).catch(function(e){})}},data:()=>({moneyModal:!1,loading:!0,data:[],agents:[],page:[{pageTotal:0,number:1,pageNum:1}],formValidate:{agent:20,money:""},ruleCustom:{money:[{required:!0,message:"请输入要充值的金额",trigger:"blur"}]},columns:[{title:"#",key:"id",width:80,align:"center"},{title:"交易用户",key:"username",align:"center"},{title:"交易金额",key:"money",align:"center",render:(e,t)=>e("span",{domProps:{innerHTML:"charge"==t.row.mark?t.row.money:"-"+t.row.money}})},{title:"交易时间",key:"created_at",align:"center"},{title:"备注",key:"mark",align:"center",render:(e,t)=>e("span",{domProps:{innerHTML:"charge"==t.row.mark?"管理员余额充值":"生成充值卡扣款"}})}]})},Z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"log animated"},[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[e._v("\n            资金日志\n        ")]),e._v(" "),a("Table",{ref:"selection",attrs:{border:"",columns:e.columns,data:e.data,height:"525px",loading:e.loading}}),e._v(" "),a("div",{staticClass:"btn-group"},[a("Button",{attrs:{type:"primary",long:""},on:{click:function(t){e.moneyModal=!0}}},[e._v("代理余额充值")])],1),e._v(" "),a("Divider"),e._v(" "),a("Page",{staticClass:"page",attrs:{total:e.page.pageTotal,"show-total":"",placement:"top"},on:{"on-change":e.handlePage}})],1),e._v(" "),a("Modal",{attrs:{title:"充值资金",loading:e.loading,width:"450px","footer-hide":""},model:{value:e.moneyModal,callback:function(t){e.moneyModal=t},expression:"moneyModal"}},[a("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleCustom}},[a("FormItem",{staticStyle:{"margin-bottom":"0"},attrs:{label:"选择用户",prop:"agent"}},[a("Select",{attrs:{placeholder:"请选择代理",filterable:""},model:{value:e.formValidate.agent,callback:function(t){e.$set(e.formValidate,"agent",t)},expression:"formValidate.agent"}},e._l(e.agents,function(t,i){return a("Option",{key:t.index,attrs:{value:t.id}},[e._v(e._s(t.name))])}))],1),e._v(" "),a("FormItem",{attrs:{label:"充值金额",prop:"money"}},[a("Input",{model:{value:e.formValidate.money,callback:function(t){e.$set(e.formValidate,"money",t)},expression:"formValidate.money"}})],1),e._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary",long:""},on:{click:function(t){e.handleSubmit("formValidate")}}},[e._v("确认提交")]),e._v(" "),a("Button",{staticStyle:{"margin-top":"8px"},attrs:{long:""},on:{click:function(t){e.handleReset("formValidate")}}},[e._v("重新填写")])],1)],1)],1)],1)},staticRenderFns:[]};var W=a("vSla")(Y,Z,!1,function(e){a("0njP")},null,null).exports,X={name:"dashboard",data(){return{loading:!0,accountModal:!1,web:[],service:[],page:[{pageTotal:0,pagenumber:10}],fonts:[{id:1,name:"方正兰亭大黑",size:"14.1kb",type:"中文字体",style:"古风字体"}],formValidate:{id:"",name:"",type:"cn",style:"古风字体"},style:[{id:1,name:"古风字体"}],ruleValidate:{name:[{required:!0,message:"请填写登录账号！",trigger:"blur"}]},account:[],columns:[{title:"ID",key:"id",width:80,align:"center"},{title:"字体名称",key:"name",align:"center"},{title:"字体分类",key:"type",align:"center"},{title:"字体风格",key:"style",align:"center"},{title:"文字大小",key:"size",align:"center"},{title:"操作",key:"action",align:"center",render:(e,t)=>e("div",[e("span",{style:{cursor:"pointer",padding:"0 5px"},on:{click:()=>{this.accountModal=!0,this.edit(t.index)}}},"编辑字体")])}]}},mounted(){this.weblist(),this.serverlist(),this.cmdlist()},methods:{edit(e){let t=this;t.formValidate.id=t.account[e].id,t.formValidate.weblist=t.account[e].site_id,t.formValidate.service=t.account[e].server_id,t.formValidate.name=t.account[e].username,t.formValidate.password=t.account[e].password,t.formValidate.logintype=t.account[e].login_type,t.formValidate.enabled=1==t.account[e].isopen},handlePage(e){this.page.pagenumber=e,this.cmdlist(this.page.pagenumber)},weblist(){let e=this;e.axios.get("/setting/sitelist",{}).then(function(t){let a=t.data;0==a.code&&(e.web=a.data,e.codedata=a.data.data,e.loading=!1)}).catch(function(e){})},serverlist(){let e=this;e.axios.get("/setting/serverlist",{params:{page:1,num:10}}).then(function(t){let a=t.data;200==t.status&&0==a.code&&(e.service=a.data.data)}).catch(function(e){})},cmdlist(e){let t=this;t.axios.get("/setting/backendlist",{params:{page:e,num:10}}).then(function(e){let a=e.data;200==e.status&&0==a.code&&(t.account=a.data.data,t.page.pageTotal=a.data.total,t.loading=!1)}).catch(function(e){})},cmd(){let e=this;e.axios.post("/setting/backend",{id:e.formValidate.id,site_id:e.formValidate.weblist,server_id:e.formValidate.service,username:e.formValidate.name,password:e.formValidate.password,login_type:e.formValidate.logintype,isopen:1==e.formValidate.enabled?1:0}).then(function(t){let a=t.data;200==t.status&&0==a.code&&(e.cmdlist(1),e.$Message.success("操作成功！"),e.accountModal=!1,e.handleReset(formValidate))}).catch(function(e){})},handleSubmit(e){this.$refs[e].validate(e=>{e?this.cmd():this.$Message.error("Fail!")})},handleReset(e){this.$refs[e].resetFields()}}},ee={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fonts animated"},[a("Row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:16}},[a("Col",{attrs:{span:"24"}},[a("Card",{staticClass:"min",staticStyle:{"margin-bottom":"20px"}},[a("p",{attrs:{slot:"title"},slot:"title"},[e._v("\n                    下载账号列表\n                ")]),e._v(" "),a("Table",{attrs:{border:"",columns:e.columns,data:e.fonts,height:"525px",loading:e.loading}}),e._v(" "),a("Page",{staticClass:"page",attrs:{total:e.page.pageTotal,"show-total":"",placement:"top"},on:{"on-change":e.handlePage}})],1)],1)],1),e._v(" "),a("Modal",{attrs:{title:"添加字体",width:"500","footer-hide":""},model:{value:e.accountModal,callback:function(t){e.accountModal=t},expression:"accountModal"}},[a("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":100}},[a("FormItem",{attrs:{label:"字体名称",prop:"name"}},[a("Input",{attrs:{placeholder:"请填写登录账号"},model:{value:e.formValidate.name,callback:function(t){e.$set(e.formValidate,"name",t)},expression:"formValidate.name"}})],1),e._v(" "),a("FormItem",{attrs:{label:"字体分类"}},[a("RadioGroup",{model:{value:e.formValidate.type,callback:function(t){e.$set(e.formValidate,"type",t)},expression:"formValidate.type"}},[a("Radio",{attrs:{label:"cn"}},[e._v("中文字体")]),e._v(" "),a("Radio",{attrs:{label:"en"}},[e._v("英文字体")])],1)],1),e._v(" "),a("FormItem",{attrs:{label:"字体风格"}},[a("Select",{attrs:{filterable:""},model:{value:e.formValidate.style,callback:function(t){e.$set(e.formValidate,"style",t)},expression:"formValidate.style"}},e._l(e.style,function(t){return a("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.name))])}))],1),e._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("formValidate")}}},[e._v("确认提交")]),e._v(" "),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){e.handleReset("formValidate")}}},[e._v("重新填写")])],1)],1)],1)],1)},staticRenderFns:[]};a("vSla")(X,ee,!1,function(e){a("x5FG")},null,null).exports;var te={data:()=>({formValidate:{id:"",service:"",qq:"",buy_link:"",announce:"",enabled:!0},ruleValidate:{service:[{required:!0,message:"请填写网站使用教程链接地址！",trigger:"blur"}],qq:[{required:!0,message:"请填写在线客服QQ代码！",trigger:"blur"}],buy_link:[{required:!0,message:"请填写您的充值卡购买链接！",trigger:"blur"}]}}),mounted(){this.getsystem()},methods:{getsystem(){let e=this;e.axios.get("/setting/sysinfo",{}).then(function(t){let a=t.data;0==a.code&&(e.formValidate.id=a.data.id,e.formValidate.service=a.data.service,e.formValidate.qq=a.data.qq,e.formValidate.buy_link=a.data.buy_link,e.formValidate.announce=a.data.announce)}).catch(function(e){})},setting(){let e=this;e.axios.post("/setting/system",{id:e.formValidate.id,service:e.formValidate.service,qq:e.formValidate.qq,buy_link:e.formValidate.buy_link,announce:e.formValidate.announce}).then(function(t){let a=t.data;0==a.code&&(e.webModal=!1,e.getsystem(),e.formValidate.enabled=!0,e.$Message.success(a.message))}).catch(function(e){})},handleSubmit(e){this.$refs[e].validate(e=>{e&&this.setting()})},handleReset(e){this.formValidate.enabled=!1}}},ae={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Card",{staticClass:"setting animated"},[a("p",{attrs:{slot:"title"},slot:"title"},[e._v("\n        系统设置\n    ")]),e._v(" "),a("Row",[a("Col",{staticStyle:{"margin-top":"20px"},attrs:{span:20}},[a("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":100}},[a("FormItem",{attrs:{label:"在线客服",prop:"qq"}},[a("Input",{attrs:{placeholder:"请填写你的QQ在线代码",disabled:e.formValidate.enabled},model:{value:e.formValidate.qq,callback:function(t){e.$set(e.formValidate,"qq",t)},expression:"formValidate.qq"}})],1),e._v(" "),a("FormItem",{attrs:{label:"购买链接",prop:"buy_link"}},[a("Input",{attrs:{disabled:e.formValidate.enabled,placeholder:"请输入您的淘宝购买链接地址"},model:{value:e.formValidate.buy_link,callback:function(t){e.$set(e.formValidate,"buy_link",t)},expression:"formValidate.buy_link"}})],1),e._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("formValidate")}}},[e._v("确认提交")]),e._v(" "),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){e.handleReset("formValidate")}}},[e._v("重新编辑")])],1)],1)],1)],1)],1)},staticRenderFns:[]},ie=a("vSla")(te,ae,!1,null,null,null).exports,ne={mounted(){this.downlist(1)},methods:{handleSubmit(e){this.$refs[e].validate(e=>{e?this.$Message.success("Success!"):this.$Message.error("Fail!")})},code(e){switch(e){case e="wait":return'<span style="color:#ff9900;">等待中</span>';case e="doing":return'<span style="color:#ff9900">上报中</span>';case e="done":return"已缓存";case e="failed":return'<span style="color:red;">已失败</span>'}},webname(e){switch(e){case e="58pic":return"千图网";case e="16pic":return"六图网";case e="daimg":return"大图网";case e="ibaotu":return"包图网";case e="699pic":return"摄图网";case e="nipic":return"昵图网";case e="588ku":return"千库网";case e="90sheji":return"90设计";case e="ooopic":return"我图网";case e="88tph":return"图品汇";case e="888ppt":return"办图网";case e="51yuansu":return"觅元素";case e="tukuppt":return"熊猫办公";default:return"未知网站"}},handlePage(e){this.page.pagenumber=e,this.downlist(this.page.pagenumber)},downlist(e){let t=this,a=JSON.parse(sessionStorage.getItem("token"));a&&(t.token=a.token),t.axios.get("/setting/downlist",{params:{page:e,num:10,token:t.token}}).then(function(e){let a=e.data;console.log(a),200==e.status&&0==a.code&&(t.data=a.data.data,t.page.pageTotal=a.data.total,t.loading=!1)}).catch(function(e){})},handleSelectAll(e){this.$refs.selection.selectAll(e)}},data(){return{loading:!1,token:"",value2:["2016-01-01","2016-02-15"],page:[{pageTotal:0,pagenumber:10}],formInline:{url:"",web:"",weblist:[{value:"58pic",label:"千图网"},{value:"nipic",label:"昵图网"}]},ruleInline:{url:[{required:!0,message:"请输入您要搜索的素材链接",trigger:"blur"}]},data:[],columns:[{type:"selection",width:50,align:"center",fixed:"left"},{title:"#",key:"id",width:80,align:"center",fixed:"left"},{title:"素材网站",key:"site",width:100,align:"center",fixed:"left",render:(e,t)=>e("span",{domProps:{innerHTML:this.webname(t.row.site)}})},{title:"素材标题",key:"title",width:280,align:"center",render:(e,t)=>e("span",{domProps:{innerHTML:t.row.title?'<a href="'+t.row.source+'" target="_blank" rel="noreferrer" style="text-align:left;display:block;overflow: hidden;text-overflow:ellipsis;white-space: nowrap;">'+t.row.title+"</a>":"获取失败"}})},{title:"下载账号",key:"fail_reason",width:250,align:"center",render:(e,t)=>e("span",{domProps:{innerHTML:t.row.account}})},{title:"下载状态",key:"fail_reason",width:120,align:"center",render:(e,t)=>e("span",{domProps:{innerHTML:t.row.fail_reason?'<span style="color:#ed4014">'+t.row.fail_reason+"</span>":"-"}})},{title:"错误信息",key:"error_info",width:300,align:"center",render:(e,t)=>e("span",{domProps:{innerHTML:t.row.error_info?'<span style="color:#ed4014">'+t.row.error_info+"</span>":"-"}})},{title:"上报时间",key:"created_at",width:170,align:"center"},{title:"实际完成",key:"updated_at",width:170,align:"center"},{title:"上报状态",key:"status",width:120,align:"center",fixed:"right",render:(e,t)=>e("span",{domProps:{innerHTML:this.code(t.row.status)}})}]}}},le={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"crawler"},[a("Row",[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[e._v("\n                素材列表\n            ")]),e._v(" "),a("Form",{ref:"formInline",staticStyle:{"margin-top":"20px"},attrs:{model:e.formInline,rules:e.ruleInline,inline:""}},[a("FormItem",[a("Select",{staticStyle:{width:"100px"},model:{value:e.formInline.web,callback:function(t){e.$set(e.formInline,"web",t)},expression:"formInline.web"}},e._l(e.formInline.weblist,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}))],1),e._v(" "),a("FormItem",[a("DatePicker",{staticStyle:{width:"200px"},attrs:{value:e.value2,format:"yyyy/MM/dd",type:"daterange",placement:"bottom-end",placeholder:"请选择日期"}})],1),e._v(" "),a("FormItem",{staticStyle:{width:"200px"},attrs:{prop:"url"}},[a("Input",{attrs:{type:"text",placeholder:"前输入要搜索的素材链接",clearable:""},model:{value:e.formInline.url,callback:function(t){e.$set(e.formInline,"url",t)},expression:"formInline.url"}})],1),e._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("formInline")}}},[e._v("搜索素材")])],1)],1),e._v(" "),a("Table",{ref:"selection",attrs:{border:"",columns:e.columns,data:e.data,height:"525px",loading:e.loading}}),e._v(" "),a("div",{staticClass:"btn-group"},[a("Button",{attrs:{type:"dashed"},on:{click:function(t){e.handleSelectAll(!0)}}},[e._v("选取所有")]),e._v(" "),a("Button",{attrs:{type:"dashed"}},[e._v("删除数据")])],1),e._v(" "),a("Divider"),e._v(" "),a("Page",{staticClass:"page",attrs:{total:e.page.pageTotal,"show-total":"",placement:"top"},on:{"on-change":e.handlePage}})],1)],1)],1)},staticRenderFns:[]};var oe=a("vSla")(ne,le,!1,function(e){a("csKl")},null,null).exports,se={name:"dashboard",data(){return{loading:!1,webModal:!1,formValidate:{id:"",name:"",url:"",alias:"",type:"money",isopen:"1"},page:[{pageTotal:0,number:1}],ruleValidate:{alias:[{required:!0,message:"网站别名不能为空！",trigger:"blur"}],name:[{required:!0,message:"网站名称不能为空！",trigger:"blur"}],url:[{required:!0,message:"网站链接不能为空！",trigger:"blur"}]},webdata:[{id:1,name:"素材促使奥迪",url:"http://pan.baidu.com/",password:"123455",created_at:"2018-12-24 14:12"}],webcol:[{title:"#",key:"id",width:60,align:"center"},{title:"素材标题",key:"name",align:"center"},{title:"下载地址",key:"url",align:"center"},{title:"提取密码",key:"password",align:"center"},{title:"添加时间",key:"created_at",align:"center"},{title:"操作",key:"action",align:"center",render:(e,t)=>e("span",{style:{cursor:"pointer"},on:{click:()=>{this.webModal=!0,this.edit(t.index)}}},"编辑素材")}]}},mounted(){},methods:{submit(){let e=this;e.axios.post("/setting/website",{id:e.formValidate.id,name:e.formValidate.name,type:e.formValidate.type,url:e.formValidate.url,alias:e.formValidate.alias,isopen:e.formValidate.isopen}).then(function(t){let a=t.data;0==a.code&&(e.webModal=!1,e.$Message.info(a.message),e.weblist())}).catch(function(e){})},reset(e){void 0!==this.$refs[e]&&this.$refs[e].resetFields()},handleSubmit(e){this.$refs[e].validate(e=>{e&&this.submit()})}}},re={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"web animated"},[a("Row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:16}},[a("Col",{attrs:{span:"24"}},[a("Card",{staticClass:"min",staticStyle:{"margin-bottom":"20px"}},[a("p",{attrs:{slot:"title"},slot:"title"},[e._v("\n                    网站列表\n                ")]),e._v(" "),a("Table",{ref:"selection",attrs:{border:"",columns:e.webcol,data:e.webdata,loading:e.loading,height:"525px"}}),e._v(" "),a("div",{staticClass:"btn-group"},[a("Button",{attrs:{type:"dashed"},on:{click:function(t){e.webModal=!0}}},[e._v("添加网盘素材")])],1),e._v(" "),a("Divider"),e._v(" "),a("Page",{staticClass:"page",attrs:{total:e.page.pageTotal,"show-total":"",placement:"top"},on:{"on-change":e.handlePage}})],1)],1)],1),e._v(" "),a("Modal",{attrs:{title:"素材管理",width:"480","footer-hide":""},model:{value:e.webModal,callback:function(t){e.webModal=t},expression:"webModal"}},[a("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":80}},[a("FormItem",{attrs:{label:"素材标题",prop:"name"}},[a("Input",{model:{value:e.formValidate.name,callback:function(t){e.$set(e.formValidate,"name",t)},expression:"formValidate.name"}})],1),e._v(" "),a("FormItem",{attrs:{label:"素材链接",prop:"alias"}},[a("Input",{model:{value:e.formValidate.alias,callback:function(t){e.$set(e.formValidate,"alias",t)},expression:"formValidate.alias"}})],1),e._v(" "),a("FormItem",{attrs:{label:"提取密码",prop:"url"}},[a("Input",{model:{value:e.formValidate.url,callback:function(t){e.$set(e.formValidate,"url",t)},expression:"formValidate.url"}})],1),e._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("formValidate")}}},[e._v("确认提交")]),e._v(" "),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){e.reset("formValidate")}}},[e._v("重新填写")])],1)],1)],1)],1)},staticRenderFns:[]};var de=a("vSla")(se,re,!1,function(e){a("mMv1")},null,null).exports,ce={data(){return{data:[],loading:!0,vipModal:!1,indeterminate:!0,checkAll:!1,show:!0,webList:[{id:"",name:""}],agents:"",formValidate:{id:"",name:"",price:"",type:"day",point:0,agent:"",availableTimes:"",enabled:!0,num:"1"},checkAllGroup:[],websiteIds:[],ruleValidate:{name:[{required:!0,message:"套餐名称不能为空",trigger:"blur"}]},columns:[{title:"#",key:"id",width:70,align:"center"},{title:"套餐名称",key:"name",align:"center",width:230},{title:"使用类型",key:"type",align:"center",render:(e,t)=>e("span",{domProps:{innerHTML:"day"==t.row.type?"按天扣点":"按次扣点"},class:{"btn-group":!0}})},{title:"可用网站",key:"id",align:"center",render:(e,t)=>e("Poptip",{props:{trigger:"hover",title:"套餐共"+t.row.websites.length+"个网站",placement:"right"},style:{fontSize:"12px",cursor:"pointer"}},[e("span","共"+t.row.websites.length+"个网站"),e("div",{slot:"content"},[e("ul",this.data[t.index].websites.map(t=>e("li",{style:{textAlign:"center",padding:"4px",fontSize:"12px"}},t.name+t.pivot.count+"次每天")))])])},{title:"使用时长",key:"timelong",align:"center",render:(e,t)=>e("span",{domProps:{innerHTML:this.days(t.row.timelong)},class:{"btn-group":!0}})},{title:"价格",align:"center",key:"price"},{title:"状态",align:"center",key:"isopen",render:(e,t)=>e("span",{domProps:{innerHTML:1==t.row.isopen?"正常":'<span style="color:red">禁用</span>'},class:{"btn-group":!0}})},{title:"操作",key:"action",align:"center",render:(e,t)=>e("div",[e("Button",{props:{type:"text",size:"small"},on:{click:()=>{this.vipModal=!0,this.edit(t.index)}}},"编辑套餐")])}]}},mounted(){this.agentlist(),this.weblist()},methods:{clear(){let e=this;e.formValidate.id="",e.formValidate.name="",e.formValidate.price="",e.formValidate.type="day",e.formValidate.timelong="",e.formValidate.enabled=!0,e.formValidate.availableTimes="",e.websiteIds="",e.weblist=""},handlePage(e){this.page.pagenumber=e,this.combolist(this.page.pagenumber)},agentlist(){let e=this;e.axios.get("/admins/agents",{params:{page:1,num:10}}).then(function(t){200==t.status&&0==t.data.code&&(e.agents=t.data.data)}).catch(function(e){})},days:e=>0==e?"终身卡":1==e?"体验卡":30==e?"月卡":365==e?"年卡":"天卡",selectType(){"day"==this.formValidate.type?this.show=!0:this.show=!1},weblist(){let e=this;e.axios.get("/setting/sitelist",{}).then(function(t){let a=t.data;0==a.code&&(e.webList=a.data)}).catch(function(e){})},formatNum:e=>4==e||5==e?15:7==e?0:20,check(){let e=[];for(let t=0;t<this.checkAllGroup.length;t++)for(let a=0;a<this.webList.length;a++)this.checkAllGroup[t]==this.webList[a].id&&e.push({id:this.checkAllGroup[t],name:this.webList[a].name,value:this.formatNum(this.checkAllGroup[t])});this.websiteIds=e},combo(){let e=this;e.axios.post("/setting/combodiy",{price:100,uid:e.formValidate.agent,type:e.formValidate.type,timelong:e.formValidate.timelong,isopen:e.formValidate.enabled,point:e.formValidate.point,count:"day"==e.formValidate.type?0:e.formValidate.availableTimes,sites:e.websiteIds,num:e.formValidate.num}).then(function(t){t.data;e.$router.push({path:"code"}),e.$Message.success("套餐添加成功!")}).catch(function(e){})}}},me={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vip animated"},[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[e._v("\n            生成卡密\n        ")]),e._v(" "),a("Row",[a("Col",{attrs:{span:"18"}},[a("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":80,span:14}},[a("FormItem",{attrs:{label:"充值卡类型"}},[a("RadioGroup",{on:{"on-change":e.selectType},model:{value:e.formValidate.type,callback:function(t){e.$set(e.formValidate,"type",t)},expression:"formValidate.type"}},[a("Radio",{attrs:{label:"day"}},[a("span",[e._v("按天计算")])]),e._v(" "),a("Radio",{attrs:{label:"count"}},[a("span",[e._v("按次计算")])])],1)],1),e._v(" "),a("FormItem",{attrs:{label:"选择用户",prop:"agent"}},[a("Select",{attrs:{placeholder:"请选择代理",filterable:""},model:{value:e.formValidate.agent,callback:function(t){e.$set(e.formValidate,"agent",t)},expression:"formValidate.agent"}},e._l(e.agents,function(t,i){return a("Option",{key:t.index,attrs:{value:t.id}},[e._v(e._s(t.name))])}))],1),e._v(" "),a("FormItem",{attrs:{label:"会员等级"}},[a("Select",{attrs:{placeholder:"请选择套餐使用时间"},model:{value:e.formValidate.timelong,callback:function(t){e.$set(e.formValidate,"timelong",t)},expression:"formValidate.timelong"}},[a("Option",{attrs:{value:"0"}},[e._v("终身")]),e._v(" "),a("Option",{attrs:{value:"1"}},[e._v("天卡")]),e._v(" "),a("Option",{attrs:{value:"7"}},[e._v("周卡")]),e._v(" "),a("Option",{attrs:{value:"30"}},[e._v("月卡")]),e._v(" "),a("Option",{attrs:{value:"365"}},[e._v("年卡")])],1)],1),e._v(" "),a("FormItem",{attrs:{label:"选择网站"}},[a("CheckboxGroup",{on:{"on-change":e.check},model:{value:e.checkAllGroup,callback:function(t){e.checkAllGroup=t},expression:"checkAllGroup"}},e._l(e.webList,function(t){return a("Checkbox",{key:t.id,attrs:{label:t.id}},[e._v(e._s(t.name))])}))],1),e._v(" "),a("div",{staticClass:"ivu-form-item ivu-form-item-webgroup",class:e.show&&0!=e.websiteIds.length?"":"hide"},[a("label",{staticClass:"ivu-form-item-label",staticStyle:{width:"80px"}},[e._v("网站列表")]),e._v(" "),a("div",{staticClass:"ivu-form-item-content weblist",staticStyle:{"margin-left":"80px"}},e._l(e.websiteIds,function(t,i){return a("Input",{key:i,model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v(e._s(t.name))])])}))]),e._v(" "),a("FormItem",{class:1==e.show?"hide":"",attrs:{label:"上限次数"}},[a("Input",{attrs:{placeholder:"请输入套餐的最高上限下载次数"},model:{value:e.formValidate.availableTimes,callback:function(t){e.$set(e.formValidate,"availableTimes",t)},expression:"formValidate.availableTimes"}})],1),e._v(" "),a("FormItem",{attrs:{label:"套餐积分"}},[a("Input",{attrs:{placeholder:"请输入套餐的积分总数"},model:{value:e.formValidate.point,callback:function(t){e.$set(e.formValidate,"point",t)},expression:"formValidate.point"}})],1),e._v(" "),a("FormItem",{attrs:{label:"卡密数量"}},[a("Input",{attrs:{placeholder:"请输入要生成的卡密数量"},model:{value:e.formValidate.num,callback:function(t){e.$set(e.formValidate,"num",t)},expression:"formValidate.num"}})],1),e._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:e.combo}},[e._v("生成自定义套餐")]),e._v(" "),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:e.clear}},[e._v("重新填写")])],1)],1)],1),e._v(" "),a("Col",{attrs:{span:"4"}})],1)],1)],1)},staticRenderFns:[]};var ue=a("vSla")(ce,me,!1,function(e){a("PjLp")},null,null).exports,pe={data:()=>({}),mounted(){this.go()},methods:{go(e){let t=this;t.$Message.error("页面错误，即将返回首页！"),setTimeout(function(){t.$router.push({path:"/login"}),t.setCookie("","",-1)},1500)}}},fe={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"error"})},staticRenderFns:[]};var ge=a("vSla")(pe,fe,!1,function(e){a("BZkY")},null,null).exports;i.default.use(d.a);var he=new d.a({routes:[{path:"/",component:f,redirect:"/dashboard",children:[{path:"/dashboard",name:"dashboard",component:w},{path:"/web",name:"web",component:k},{path:"/service",name:"service",component:C},{path:"/cmd",name:"cmd",component:S},{path:"/agent",name:"agent",component:T},{path:"/member",name:"member",component:z},{path:"/vip",name:"vip",component:B},{path:"/download",name:"download",component:H},{path:"/code",name:"code",component:J},{path:"/setcode",name:"setcode",component:U},{path:"/money",name:"money",component:W},{path:"/money",name:"money",component:W},{path:"/diy",name:"diy",component:ue},{path:"/crawler",name:"crawler",component:oe},{path:"/gift",name:"gift",component:de},{path:"/setting",name:"setting",component:ie}]},{path:"/login",name:"login",component:v},{path:"*",name:"404",component:ge}]}),ve=(a("KPKd"),a("zRM5")),be=a.n(ve);a("qFup"),a("0nQ+");i.default.use(be.a),r.a.defaults.baseURL="/api",r.a.interceptors.request.use(e=>{let t=JSON.parse(sessionStorage.getItem("token"));return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),r.a.interceptors.response.use(e=>(99999==e.data.code&&(sessionStorage.removeItem("userInfo"),sessionStorage.removeItem("token"),he.replace({path:"login",query:{redirect:he.currentRoute.fullPath}})),e),e=>{if(e.response)switch(e.response.status){case 400:sessionStorage.removeItem("userInfo"),sessionStorage.removeItem("token"),he.replace({path:"login",query:{redirect:he.currentRoute.fullPath}});case 401:sessionStorage.removeItem("userInfo"),sessionStorage.removeItem("token"),he.replace({path:"login",query:{redirect:he.currentRoute.fullPath}});case 402:sessionStorage.removeItem("userInfo"),sessionStorage.removeItem("token"),he.replace({path:"login",query:{redirect:he.currentRoute.fullPath}})}return Promise.reject(e.response.data)}),i.default.prototype.axios=r.a,i.default.config.productionTip=!1,r.a.defaults.withCredentials=!0,new i.default({el:"#app",router:he,components:{App:o},template:"<App/>"})},PjLp:function(e,t){},Q2Yl:function(e,t){},csKl:function(e,t){},kSzA:function(e,t){},ls4R:function(e,t){},mMv1:function(e,t){},qFup:function(e,t){},qUKu:function(e,t){},tqI3:function(e,t){},x5FG:function(e,t){}},["NHnr"]);